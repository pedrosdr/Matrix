<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - matrix.js</title>

    <script src="matrix.js"></script>
</head>
<body>
    <h1>Open the console to see the results</h1>
    <p>Right click on screen -> Inspect -> console</p>

    <!-- Example script -->
    <script>
        // 1 matrix 5x5 creation
        let matrix1 = new Matrix(5, 5)
        console.log('--> 1 matrix 5x5 creation:')
        console.log(matrix1)

        // 1.1 setting the first row
        matrix1.setRow(1, [1, 2, 3, 4, 5])
        console.log('----> 1.1 setting the first row:')
        console.log(matrix1)

        // 1.2 setting the first column
        matrix1.setCol(1, [3, 4, 5, 6, 7])
        console.log('----> 1.2 setting the first column:')
        console.log(matrix1)

        // 2 creating matrix from array
        let matrix2 = Matrix.fromArray([[1, 2, 3, 4, 5],
                                        [6, 7, 8, 9, 0],
                                        [9, 8, 7, 6, 5],
                                        [4, 3, 2, 1, 1],
                                        [3, 2, 1, 9, 8]])
        console.log('----> 2 creating matrix from array:')
        console.log(matrix2)

        // 3 matrix algebra
        console.log('----> 3 matrix algebra')

        //3.1 matrix scalar multiplication (matrix2 * 3)
        console.log('----> 3.1 matrix scalar multiplication (matrix2 * 3):')
        console.log(matrix2.mult_sc(3))

        //3.2 matrix multiplication (matrix1 * matrix2)
        console.log('----> 3.2 matrix multiplication (matrix1 * matrix2):')
        console.log(matrix1.mult(matrix2))

        //3.3 logarithm of matrix items (log matrix2)
        console.log('----> 3.3 logarithm of matrix items (log matrix2):')
        console.log(matrix2.apply(Math.log))

        // 4 linear systems
        // -------------------
        // 3x + 4y -2z = 5
        // 2x -6y +3z = 7
        // x + y + 5z = 2
        // -------------------
        // x = 2.23  y = -0.405  z = 0.035 

        let matA = Matrix.fromArray([[3, 4, -2],
                                     [2, -6, 3],
                                     [1, 1, 5]])

        let matB = Matrix.fromArray([[5],
                                     [7],
                                     [2]])

        let matX = matA.inv().mult(matB)

        console.log('----> 4 linear systems, matX:')
        console.log(matX)

        // 5 linear regression
        // -------------------
        // a + 3b + 4c = 21
        // a + 6b + 3c = 15
        // a + 8b + 5c = 31
        // a + 2b + 2c = 12
        // a + 7b + 12c = 54
        // -------------------
        // a ~ 1.9518  y ~ -0.8318  z ~ 3.9082 
        // -------------------
        // B = (X^T * X)^(-1) * (X^T * Y)

        let X = Matrix.fromArray([[1, 3, 4],
                                  [1, 6, 3],
                                  [1, 8, 5],
                                  [1, 2, 2],
                                  [1, 7, 12]])
        
        let Y = Matrix.fromArray([[21],
                                  [15],
                                  [31],
                                  [12],
                                  [54]])
        
        let B = X.T().mult(X).inv().mult(X.T().mult(Y))

        console.log('----> 5 linear regression:')
        console.log(B)

    </script>
</body>
</html>